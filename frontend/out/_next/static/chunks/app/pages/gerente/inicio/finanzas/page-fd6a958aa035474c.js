(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2283],{30206:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(95155),s=a(97229),o=a(98128),n=a(68425),i=a(47734),l=a(73697),c=a(33420),d=a(37665),h=a(48716),p=a(5392);let x=e=>{let{finanzas:t}=e;return(0,r.jsxs)(o.E,{style:{width:"100%",maxWidth:"700px",maxHeight:"70vh",aspectRatio:1.618},responsive:!0,data:null!=t?t:[],margin:{top:5,right:0,left:0,bottom:5},children:[(0,r.jsx)(n.d,{strokeDasharray:"1 1"}),(0,r.jsx)(i.W,{dataKey:"fecha"}),(0,r.jsx)(l.h,{width:"auto"}),(0,r.jsx)(c.m,{}),(0,r.jsx)(d.s,{}),(0,r.jsx)(h.e,{y:0,stroke:"#000"}),(0,r.jsx)(p.y,{dataKey:"ingresos",fill:"#05ABFF"}),(0,r.jsx)(p.y,{dataKey:"costos",fill:"#D1460F"})]})};var m=a(73850),f=a(21598);let u=e=>{let{Finanza:t}=e;return(0,r.jsxs)(m.Q,{style:{width:"100%",maxWidth:"700px",maxHeight:"70vh",aspectRatio:1.618},responsive:!0,data:null!=t?t:[],margin:{top:20,right:0,left:0,bottom:0},children:[(0,r.jsx)(n.d,{strokeDasharray:"3 3"}),(0,r.jsx)(i.W,{dataKey:"fecha"}),(0,r.jsx)(l.h,{width:"auto"}),(0,r.jsx)(c.m,{}),(0,r.jsx)(f.Gk,{type:"monotone",dataKey:"ganancias",stroke:"#00D8C4",fill:"#00D8C4"})]})};var j=a(51730),g=a(12115);let b=()=>{let[e,t]=(0,g.useState)([]),[a,o]=(0,g.useState)([]),[n,i]=(0,g.useState)(new Date().getMonth()+1),[l,c]=(0,g.useState)(new Date().getFullYear());return(0,g.useEffect)(()=>{!async function(){o(await (0,s.L8)()),t(await (0,s.UR)(n,l))}()},[n,l]),(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsx)(j.default,{}),(0,r.jsx)("h1",{className:"text-3xl mt-2 font-bold text-primary mb-4 text-center bg-white",children:"FINANZAS"}),(0,r.jsxs)("div",{className:"p-6 w-full h-full border-b border-gray-300 mb-6 bg-white ",children:[(0,r.jsxs)("div",{className:"flex justify-center mb-4",children:[(0,r.jsx)("select",{value:n,onChange:e=>i(Number(e.target.value)),className:"mr-4 p-2 border border-gray-300 rounded",children:[...Array(12)].map((e,t)=>(0,r.jsxs)("option",{value:t+1,children:[t+1," "]},t))}),(0,r.jsx)("select",{value:l,onChange:e=>c(Number(e.target.value)),className:"p-2 border border-gray-300 rounded",children:[2020,2021,2022,2023,2024,2025].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"p-6 w-full h-full bg-white  border-b border-gray-300 mb-6 ",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-primary mb-4 text-center",children:"Ingresos y Costos por Fecha"}),(0,r.jsx)(x,{finanzas:e})]}),(0,r.jsxs)("div",{className:"p-6 w-full h-full bg-white  border-b border-gray-300 mb-6 ",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-primary mb-4 text-center",children:"Ganancias por fecha"}),(0,r.jsx)(u,{Finanza:a})]})]})]})}},31743:(e,t,a)=>{Promise.resolve().then(a.bind(a,30206))},51730:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(95155);a(12115);var s=a(20063),o=a(84926),n=a(15239);let i=()=>{let e=(0,s.useRouter)();return(0,r.jsxs)("header",{className:"relative flex items-center justify-center py-3 text-center text-white",children:[(0,r.jsx)(n.default,{src:"/Banner.jpg",alt:"Banner",fill:!0,priority:!0,className:"object-cover "}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold",children:"CORE."}),(0,r.jsx)("h4",{children:"El N\xfacleo de tu Empresa"})]}),(0,r.jsxs)("button",{onClick:()=>{e.push("/")},className:"absolute top-1/2 right-4 -translate-y-1/2 flex items-center gap-2 px-3 py-1.5 text-sm font-semibold bg-white text-primary rounded-md hover:bg-gray-200 transition","aria-label":"Cerrar sesi\xf3n",children:[(0,r.jsx)(o.A,{size:16}),(0,r.jsx)("span",{})]})]})}},97229:(e,t,a)=>{"use strict";a.d(t,{L8:()=>o,NR:()=>l,UR:()=>s,b:()=>n,jI:()=>i});let r="https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd";async function s(e,t){let a=await fetch("".concat(r,"/reportes-graficos/obtener-datos-finanzas"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mes:e,anio:t})});if(!a.ok)throw Error((await a.json()).error||"Error al obtener datos de finanzas");let s=await a.json();return console.log(s),s.datos_finanzas}async function o(){let e=await fetch("".concat(r,"/reportes-graficos/get-ganancias-por-fecha"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error((await e.json()).error||"Error al obtener ganancias totales");return(await e.json()).ganancias_por_fecha}async function n(){let e=await fetch("".concat(r,"/reportes-graficos/get-eficiencia-produccion-kilogramos-finalizadas"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error((await e.json()).error||"Error al obtener produccion total por dia");return(await e.json()).eficiencia_produccion}async function i(e,t){let a=await fetch("".concat(r,"/reportes-graficos/cant-pedidos-entregados-a-tiempo-y-demora"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mes:e,anio:t})});if(!a.ok)throw Error((await a.json()).error||"Error al obtener pedidos entregados");return(await a.json()).pedidos_entregados_y_entregados_a_tiempo}async function l(e){let t=await fetch("".concat(r,"/reportes-graficos/cant-pedidos-entregados-a-tiempo-y-demora-mensuales"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anio:e})});if(!t.ok)throw Error((await t.json()).error||"Error al obtener pedidos entregados");return(await t.json()).pedidos_entregados_y_entregados_a_tiempo}}},e=>{e.O(0,[1356,4080,5976,8441,1255,7358],()=>e(e.s=31743)),_N_E=e.O()}]);