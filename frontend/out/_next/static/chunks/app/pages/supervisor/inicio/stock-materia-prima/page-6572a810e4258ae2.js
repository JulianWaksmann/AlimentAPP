(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{562:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1847).A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},907:(e,a,t)=>{"use strict";t.d(a,{$Z:()=>l,Fn:()=>d,OX:()=>o,vn:()=>n,yz:()=>s,zI:()=>i});let r="https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd";async function i(){let e=await fetch("".concat(r,"/gestion-materia-prima/all-proveedores-por-materia-prima"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching materia prima x proovedor");return(await e.json()).materias_primas}async function o(e){let{idMateriaPrima:a,idProveedor:t,cantidad:i}=e,o=await fetch("".concat(r,"/gestion-materia-prima/generar-compra-materia-prima"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_materia_prima:a,id_proveedor:t,cantidad_total:i})});if(!o.ok)throw Error((await o.json()).error||"Error al pedir materia prima");return o.json()}async function s(){let e=await fetch("".concat(r,"/gestion-materia-prima/pedido-materia-prima"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching pedidos materia prima");return(await e.json()).pedidos_materia_prima}async function n(e,a,t,i,o){console.log(e,a,t,i,o);let s=await fetch("".concat(r,"/gestion-materia-prima/update-actualizar-estado-lote"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_lote:e,fecha_vencimiento:a,nuevo_estado:t,observaciones:i,codigo_lote:o})});if(!s.ok)throw Error((await s.json()).error||"Error al actualizar el estado del pedido");return s.json()}async function d(e){let a=await fetch("".concat(r,"/gestion-materia-prima/rechazar-pedido-materia-prima"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_pedido:e})});if(!a.ok)throw Error((await a.json()).error||"Error al cancelar el pedido");return a.json()}async function l(){let e=await fetch("".concat(r,"/gestion-materia-prima/stock"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching stock materia prima");return(await e.json()).stock_materia_prima}},1730:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(5155);t(2115);let i=()=>(0,r.jsxs)("header",{className:"bg-gradient-primary text-white py-3 text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold",children:"CORE."}),(0,r.jsx)("h4",{children:"Gestion de Empresas"})]})},1847:(e,a,t)=>{"use strict";t.d(a,{A:()=>d});var r=t(2115);let i=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},o=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:l="",children:c,iconNode:m,...p}=e;return(0,r.createElement)("svg",{ref:a,...s,width:i,height:i,stroke:t,strokeWidth:d?24*Number(n)/Number(i):n,className:o("lucide",l),...!c&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(p)&&{"aria-hidden":"true"},...p},[...m.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(c)?c:[c]])}),d=(e,a)=>{let t=(0,r.forwardRef)((t,s)=>{let{className:d,...l}=t;return(0,r.createElement)(n,{ref:s,iconNode:a,className:o("lucide-".concat(i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...l})});return t.displayName=i(e),t}},8211:(e,a,t)=>{Promise.resolve().then(t.bind(t,8545))},8545:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var r=t(5155),i=t(907),o=t(1730),s=t(2115),n=t(562),d=t(8803),l=t(1847);let c=(0,l.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),m=(0,l.A)("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),p=e=>{let{materiasPrimas:a}=e,[t,i]=(0,s.useState)("nombre_materia_prima"),[o,l]=(0,s.useState)(!0),p=(0,s.useMemo)(()=>[...a].sort((e,a)=>{if("nombre_materia_prima"===t)return o?e.nombre_materia_prima.localeCompare(a.nombre_materia_prima):a.nombre_materia_prima.localeCompare(e.nombre_materia_prima);{let t=e.cantidad_disponible||0,r=a.cantidad_disponible||0;return o?t-r:r-t}}),[a,t,o]),h=e=>{t===e?l(!o):(i(e),l(!0))};return(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Stock de Materia Prima"}),(0,r.jsxs)("div",{className:"flex justify-center items-center mb-4 gap-4",children:[(0,r.jsxs)("button",{onClick:()=>h("nombre_materia_prima"),className:"flex items-center gap-2 px-4 py-2 border rounded-lg transition ".concat("nombre_materia_prima"===t?"bg-blue-500 text-white":"bg-white"),children:["Ordenar por Nombre","nombre_materia_prima"===t&&(o?(0,r.jsx)(n.A,{size:16}):(0,r.jsx)(d.A,{size:16}))]}),(0,r.jsxs)("button",{onClick:()=>h("cantidad_disponible"),className:"flex items-center gap-2 px-4 py-2 border rounded-lg transition ".concat("cantidad_disponible"===t?"bg-blue-500 text-white":"bg-white"),children:["Ordenar por Cantidad","cantidad_disponible"===t&&(o?(0,r.jsx)(n.A,{size:16}):(0,r.jsx)(d.A,{size:16}))]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map(e=>{var a;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)(c,{size:24,className:"text-blue-500"}),(0,r.jsx)("h3",{className:"font-bold text-lg text-gray-800 truncate",children:e.nombre_materia_prima})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,r.jsx)(m,{size:20,className:"text-green-500"}),(0,r.jsxs)("p",{className:"text-2xl font-semibold",children:[(null==(a=e.cantidad_disponible)?void 0:a.toLocaleString())||"0"," ",(0,r.jsx)("span",{className:"text-base font-normal",children:e.unidad_medida})]})]})]}),(0,r.jsx)("div",{className:"text-right mt-2",children:(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:["ID: ",e.id_materia_prima]})})]},e.id_materia_prima)})})]})},h=()=>{let[e,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{(async()=>{a(await (0,i.$Z)())})()},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Stock de Materia Prima"}),(0,r.jsx)(p,{materiasPrimas:e})]})}},8803:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1847).A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])}},e=>{e.O(0,[441,255,358],()=>e(e.s=8211)),_N_E=e.O()}]);