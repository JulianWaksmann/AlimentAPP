(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2404,2671,3155,4564,7781,8962,9250],{20063:(e,t,r)=>{"use strict";var s=r(47260);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},44390:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(95155),a=r(12115),o=r(20063);async function n(e){let{email:t,password:r,role:s}=e;console.log("Login called with:",{email:t,password:r,role:s});let a=await fetch("".concat("https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd","/login-empleado"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.toLowerCase(),password:r,rol:s.toLowerCase()})}),o=await a.json();if(!a.ok)throw Error(o.error||"Error de autenticaci\xf3n");return o}let l=e=>{let{roleName:t,colorClass:r,redirectPath:l}=e,c=(0,o.useRouter)(),[i,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[p,m]=(0,a.useState)(!1),[x,b]=(0,a.useState)(""),f=async e=>{if(c.push(l),e.preventDefault(),!/^\S+@\S+\.\S+$/.test(i)){b("El correo ingresado no es v\xe1lido."),m(!0);return}try{await n({email:i.toLowerCase(),password:u.toLowerCase(),role:t.toLowerCase()}),c.push(l)}catch(t){let e="Error desconocido";t instanceof Error&&(e=t.message),b(e),m(!0)}};return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center ".concat(r),children:[p&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,s.jsxs)("div",{className:"rounded-lg p-6 shadow-lg w-80 text-center bg-red-50 border border-red-300",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-2 text-red-600",children:"Error"}),(0,s.jsx)("p",{className:"mb-4 text-sm",children:x}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 rounded font-semibold bg-red-600 text-white hover:opacity-90 transition",children:"Cerrar"})]})}),(0,s.jsxs)("form",{onSubmit:f,className:"flex w-96 flex-col gap-4 rounded-lg bg-white p-8 shadow-md",children:[(0,s.jsx)("h2",{className:"text-center text-2xl font-bold",children:"Login ".concat(t)}),(0,s.jsx)("input",{type:"text",placeholder:"Correo electr\xf3nico",value:i,onChange:e=>d(e.target.value),className:"rounded border border-details px-4 py-2"}),(0,s.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:u,onChange:e=>h(e.target.value),className:"rounded border border-details px-4 py-2"}),(0,s.jsx)("button",{type:"submit",className:"".concat(r," border border-details py-2 font-bold text-white transition hover:opacity-90"),children:"Ingresar"}),(0,s.jsx)("a",{href:"../../../pages/recuperar-credenciales",className:" text-blue-500 underline ",children:"Olvid\xe9 mis credenciales"})]})]})}},62794:(e,t,r)=>{Promise.resolve().then(r.bind(r,44390))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=62794)),_N_E=e.O()}]);