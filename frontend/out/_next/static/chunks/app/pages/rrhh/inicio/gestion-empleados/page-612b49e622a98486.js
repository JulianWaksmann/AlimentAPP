(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3711],{38690:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>d});var a=s(95155),t=s(52293),r=s(12115);let d=()=>{let[e,l]=(0,r.useState)([]),[s,d]=(0,r.useState)(!1),[o,n]=(0,r.useState)(null),[i,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),p=async()=>{l(await (0,t.RB)())};async function b(){if(o){let e={id_empleado:o.id,nombre:o.nombre,apellido:o.apellido,telefono:i,email:m};await (0,t.$n)(e),p(),console.log("Empleado actualizado:",e),d(!1)}}return(0,r.useEffect)(()=>{p()},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-primary text-center",children:"Listado de empleados"}),(0,a.jsx)("div",{className:"mt-6 ",children:(0,a.jsxs)("table",{className:"min-w-full border-collapse border border-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"border px-1 py-2 text-sm",children:"Nombre"}),(0,a.jsx)("th",{className:"border px-1 py-2 text-sm",children:"Apellido"}),(0,a.jsx)("th",{className:"border px-1 py-2 text-sm",children:"Rol"}),(0,a.jsx)("th",{className:"border px-1 py-2 text-sm",children:"Acciones"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border px-1 py-2 text-sm font-semibold",children:e.nombre}),(0,a.jsx)("td",{className:"border px-1 py-2 text-sm font-semibold",children:e.apellido}),(0,a.jsx)("td",{className:"border px-1 py-2 text-sm font-semibold",children:e.rol}),(0,a.jsx)("td",{className:"border px-1 py-2 text-sm",children:(0,a.jsx)("button",{className:"bg-blue-500 text-white px-2 py-1 rounded mr-2",onClick:()=>{d(!0),n(e),x(e.email),c(e.telefono)},children:"Editar"})})]},e.id))})]})}),s&&o&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Editar Empleado"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),(0,a.jsx)("input",{type:"text",defaultValue:o.nombre,disabled:!0,className:"w-full border border-gray-300 px-2 py-1 rounded"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Apellido"}),(0,a.jsx)("input",{disabled:!0,type:"text",defaultValue:o.apellido,className:"w-full border border-gray-300 px-2 py-1 rounded"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"DNI"}),(0,a.jsx)("input",{type:"text",defaultValue:o.dni,disabled:!0,className:"w-full border border-gray-300 px-2 py-1 rounded"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Rol"}),(0,a.jsx)("input",{type:"text",defaultValue:o.rol,disabled:!0,className:"w-full border border-gray-300 px-2 py-1 rounded"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",defaultValue:o.email,className:"w-full border border-gray-300 px-2 py-1 rounded",onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tel\xe9fono"}),(0,a.jsx)("input",{type:"text",defaultValue:o.telefono,className:"w-full border border-gray-300 px-2 py-1 rounded",onChange:e=>c(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex justify-end",children:[(0,a.jsx)("button",{type:"button",className:"bg-gray-500 text-white px-4 py-2 rounded mr-2",onClick:()=>d(!1),children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{b(),d(!1)},children:"Guardar"})]})]})})]})}},52293:(e,l,s)=>{"use strict";s.d(l,{$n:()=>d,KM:()=>r,RB:()=>t});let a="https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd";async function t(){let e=await fetch("".concat(a,"/all-empleados"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching empleados");return(await e.json()).Empleados}async function r(e){let l=await fetch("".concat(a,"/register-empleado"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!l.ok)throw Error((await l.json()).error||"Error creating empleado");return l.json()}async function d(e){let l=await fetch("".concat(a,"/all-empleados/post-update-empleado"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!l.ok)throw Error((await l.json()).error||"Error updating empleado");return l.json()}},69915:(e,l,s)=>{Promise.resolve().then(s.bind(s,38690))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=69915)),_N_E=e.O()}]);