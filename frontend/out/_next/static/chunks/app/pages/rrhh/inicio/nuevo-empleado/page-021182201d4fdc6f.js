(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6754],{8625:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});var o=a(95155),t=a(12115),n=a(52293);let s=["rrhh","operario","gerente","supervisor","vendedor","calidad","logistica"],l=()=>{let[e,r]=(0,t.useState)({nombre:"",apellido:"",dni:"",email:"",telefono:"",rol:"",password:""}),[a,l]=(0,t.useState)(!1),[d,i]=(0,t.useState)(!1),[c,p]=(0,t.useState)(""),[m,u]=(0,t.useState)("success"),h=a=>{r({...e,[a.target.name]:a.target.value})},x=async a=>{a.preventDefault(),l(!0),i(!1);try{await (0,n.KM)(e),p("Empleado creado con \xe9xito."),u("success"),r({nombre:"",apellido:"",dni:"",email:"",telefono:"",rol:"",password:""})}catch(e){p(e instanceof Error?e.message:"Error al crear empleado."),u("error")}l(!1),i(!0)};return(0,o.jsxs)("div",{className:" flex flex-col items-center justify-center bg-gray-50 px-2",children:[(0,o.jsxs)("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-md p-6 mt-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center mb-4 text-primary",children:"Nuevo Empleado"}),(0,o.jsxs)("form",{onSubmit:x,className:"flex flex-col gap-3",children:[(0,o.jsx)("input",{name:"nombre",type:"text",required:!0,placeholder:"Nombre",value:e.nombre,onChange:h,className:"rounded border px-3 py-2"}),(0,o.jsx)("input",{name:"apellido",type:"text",required:!0,placeholder:"Apellido",value:e.apellido,onChange:h,className:"rounded border px-3 py-2"}),(0,o.jsx)("input",{name:"dni",type:"text",required:!0,placeholder:"DNI",value:e.dni,onChange:h,className:"rounded border px-3 py-2"}),(0,o.jsx)("input",{name:"email",type:"email",required:!0,placeholder:"Email",value:e.email,onChange:h,className:"rounded border px-3 py-2"}),(0,o.jsx)("input",{name:"telefono",type:"text",required:!0,placeholder:"Tel\xe9fono",value:e.telefono,onChange:h,className:"rounded border px-3 py-2"}),(0,o.jsxs)("select",{name:"rol",required:!0,value:e.rol,onChange:h,className:"rounded border px-3 py-2",children:[(0,o.jsx)("option",{value:"",children:"Seleccionar rol"}),s.map(e=>(0,o.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,o.jsx)("input",{name:"password",type:"password",required:!0,placeholder:"Contrase\xf1a",value:e.password,onChange:h,className:"rounded border px-3 py-2"}),(0,o.jsx)("button",{type:"submit",disabled:a,className:"bg-primary text-white rounded py-2 font-semibold mt-2 hover:opacity-90 transition",children:a?"Creando...":"Crear Empleado"})]})]}),d&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,o.jsxs)("div",{className:"rounded-lg p-6 shadow-lg w-80 text-center ".concat("error"===m?"bg-red-50 border border-red-300":"bg-green-50 border border-green-300"),children:[(0,o.jsx)("h3",{className:"text-lg font-bold mb-2 ".concat("error"===m?"text-red-600":"text-green-600"),children:"error"===m?"Error":"\xc9xito"}),(0,o.jsx)("p",{className:"mb-4 text-sm",children:c}),(0,o.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 rounded font-semibold ".concat("error"===m?"bg-red-600 text-white":"bg-green-600 text-white"," hover:opacity-90 transition"),children:"Cerrar"})]})})]})}},52293:(e,r,a)=>{"use strict";a.d(r,{$n:()=>s,KM:()=>n,RB:()=>t});let o="https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd";async function t(){let e=await fetch("".concat(o,"/all-empleados"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching empleados");return(await e.json()).Empleados}async function n(e){let r=await fetch("".concat(o,"/register-empleado"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json()).error||"Error creating empleado");return r.json()}async function s(e){let r=await fetch("".concat(o,"/all-empleados/post-update-empleado"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json()).error||"Error updating empleado");return r.json()}},80760:(e,r,a)=>{Promise.resolve().then(a.bind(a,8625))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=80760)),_N_E=e.O()}]);