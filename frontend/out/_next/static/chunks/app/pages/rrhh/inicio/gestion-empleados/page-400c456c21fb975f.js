(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3711],{2293:(e,s,t)=>{"use strict";t.d(s,{K:()=>l,R:()=>r});let a="https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd";async function r(){let e=await fetch("".concat(a,"/all-empleados"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching empleados");return(await e.json()).Empleados}async function l(e){let s=await fetch("".concat(a,"/register-empleado"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error((await s.json()).error||"Error creating empleado");return s.json()}},2677:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(5155),r=t(2293),l=t(2115);let o=e=>{let{employees:s,onEdit:t,onDelete:r}=e,[o,i]=(0,l.useState)("Todos"),[n,d]=(0,l.useState)(1),[c,p]=(0,l.useState)("id"),[x,h]=(0,l.useState)(!0),m=Array.from(new Set(s.map(e=>e.rol))).filter(Boolean),u=[...s.filter(e=>"Todos"===o||e.rol.toLowerCase()===o.toLowerCase())].sort((e,s)=>{var t,a;let r=null!=(t=e[c])?t:"",l=null!=(a=s[c])?a:"";return"id"===c?(r=Number(r),l=Number(l),x?r-l:l-r):x?String(r).localeCompare(String(l)):String(l).localeCompare(String(r))}),y=Math.ceil(u.length/10),j=u.slice((n-1)*10,10*n);return(0,a.jsxs)("div",{className:"w-full  mx-auto p-2 md:p-4",children:[(0,a.jsx)("div",{className:"mb-4 flex flex-col md:flex-row items-center justify-between gap-2",children:(0,a.jsx)("div",{className:"flex gap-2 w-full md:w-auto",children:(0,a.jsxs)("select",{value:o,onChange:e=>{i(e.target.value),d(1)},className:"rounded border border-gray-300 px-3 py-2 w-full md:w-auto",children:[(0,a.jsx)("option",{value:"Todos",children:"Todos los roles"}),m.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full rounded-lg bg-white shadow text-xs md:text-sm",children:[(0,a.jsx)("thead",{className:"bg-primary text-white",children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{className:"px-2 py-2 cursor-pointer",onClick:()=>{p("id"),h("id"!==c||!x)},children:["ID ","id"===c?x?"▲":"▼":""]}),(0,a.jsxs)("th",{className:"px-2 py-2 cursor-pointer",onClick:()=>{p("nombre"),h("nombre"!==c||!x)},children:["Nombre ","nombre"===c?x?"▲":"▼":""]}),(0,a.jsxs)("th",{className:"px-2 py-2 cursor-pointer",onClick:()=>{p("apellido"),h("apellido"!==c||!x)},children:["Apellido ","apellido"===c?x?"▲":"▼":""]}),(0,a.jsxs)("th",{className:"px-2 py-2 cursor-pointer",onClick:()=>{p("rol"),h("rol"!==c||!x)},children:["Rol ","rol"===c?x?"▲":"▼":""]}),(0,a.jsx)("th",{className:"px-2 py-2",children:"Acciones"})]})}),(0,a.jsxs)("tbody",{children:[j.map(e=>(0,a.jsxs)("tr",{className:"odd:bg-neutral-light even:bg-white",children:[(0,a.jsx)("td",{className:"px-2 py-2",children:e.id}),(0,a.jsx)("td",{className:"px-2 py-2",children:e.nombre}),(0,a.jsx)("td",{className:"px-2 py-2",children:e.apellido}),(0,a.jsx)("td",{className:"px-2 py-2",children:e.rol}),(0,a.jsxs)("td",{className:"flex gap-2 px-2 py-2",children:[(0,a.jsx)("button",{className:"rounded bg-success px-2 py-1 text-white transition hover:opacity-90",onClick:()=>t(e),children:"Editar"}),(0,a.jsx)("button",{className:"rounded bg-error px-2 py-1 text-white transition hover:opacity-90",onClick:()=>void 0!==e.id&&r(e.id),children:"Eliminar"})]})]},e.id)),0===j.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"py-4 text-center text-gray-500",children:"No hay empleados para mostrar."})})]})]})}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col md:flex-row justify-end items-center gap-2",children:[(0,a.jsx)("button",{disabled:1===n,onClick:()=>d(e=>Math.max(1,e-1)),className:"rounded bg-gray-300 px-3 py-1 transition hover:bg-gray-400 disabled:opacity-50",children:"Anterior"}),(0,a.jsxs)("span",{className:"px-3 py-1",children:["P\xe1gina ",n," de ",y||1]}),(0,a.jsx)("button",{disabled:n===y||0===y,onClick:()=>d(e=>Math.min(y||1,e+1)),className:"rounded bg-gray-300 px-3 py-1 transition hover:bg-gray-400 disabled:opacity-50",children:"Siguiente"})]})]})},i=()=>{let[e,s]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{s(await (0,r.R)())})()},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-primary text-center",children:"Listado de empleados"}),(0,a.jsx)(o,{employees:e,onDelete:e=>{},onEdit:e=>{}})]})}},9915:(e,s,t)=>{Promise.resolve().then(t.bind(t,2677))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=9915)),_N_E=e.O()}]);