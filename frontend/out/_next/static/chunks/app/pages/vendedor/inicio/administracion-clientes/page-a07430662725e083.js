(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{562:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(1847).A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},1847:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var a=l(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,l)=>l?l.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter((e,t,l)=>!!e&&""!==e.trim()&&l.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:l="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:i="",children:d,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:t,...s,width:r,height:r,stroke:l,strokeWidth:c?24*Number(n)/Number(r):n,className:o("lucide",i),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,l]=e;return(0,a.createElement)(t,l)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let l=(0,a.forwardRef)((l,s)=>{let{className:c,...i}=l;return(0,a.createElement)(n,{ref:s,iconNode:t,className:o("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...i})});return l.displayName=r(e),l}},4930:(e,t,l)=>{"use strict";l.d(t,{G:()=>o,j:()=>r});let a="https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd";async function r(){let e=await fetch("".concat(a,"/all-clients"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching productos");let t=await e.json();return console.log(t.clients),t.clients}async function o(e){console.log("Actualizar cliente: ",e);let t=await fetch("".concat(a,"/update-client"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Error updating cliente");return t.json()}},7901:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>p});var a=l(5155),r=l(2115),o=l(4930),s=l(1847);let n=(0,s.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var c=l(562),i=l(8803);let d=(0,s.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),m=(0,s.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u=(0,s.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),h=e=>{let{cliente:t,onClose:l,onSave:o}=e,[s,n]=(0,r.useState)(t),c=e=>{let{name:t,value:l}=e.target;n(e=>({...e,[t]:l}))};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Modificar Cliente"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(s)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"nombre_contacto",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),(0,a.jsx)("input",{id:"nombre_contacto",type:"text",name:"nombre_contacto",value:s.nombre_contacto,onChange:c,placeholder:"Nombre",className:"border p-2 rounded-lg w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"apellido_contacto",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),(0,a.jsx)("input",{id:"apellido_contacto",type:"text",name:"apellido_contacto",value:s.apellido_contacto,onChange:c,placeholder:"Apellido",className:"border p-2 rounded-lg w-full"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",name:"email",value:s.email,onChange:c,placeholder:"Email",className:"border p-2 rounded-lg w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"razon_social",className:"block text-sm font-medium text-gray-700 mb-1",children:"Raz\xf3n Social"}),(0,a.jsx)("input",{id:"razon_social",type:"text",name:"razon_social",value:s.razon_social||"",onChange:c,placeholder:"Raz\xf3n Social",className:"border p-2 rounded-lg w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cuil",className:"block text-sm font-medium text-gray-700 mb-1",children:"CUIL"}),(0,a.jsx)("input",{id:"cuil",type:"text",name:"cuil",value:s.cuil||"",onChange:c,placeholder:"CUIL",className:"border p-2 rounded-lg w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),(0,a.jsx)("input",{id:"telefono",type:"text",name:"telefono",value:s.telefono||"",onChange:c,placeholder:"Tel\xe9fono",className:"border p-2 rounded-lg w-full"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,a.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Guardar Cambios"})]})]})]})})},x=e=>{let{clientes:t}=e,[l,s]=(0,r.useState)(""),[x,p]=(0,r.useState)(!0),[g,b]=(0,r.useState)(1),[f,j]=(0,r.useState)(null),[y,w]=(0,r.useState)(!1),v=(0,r.useMemo)(()=>{let e=t.filter(e=>{var t;return"".concat(e.nombre_contacto," ").concat(e.apellido_contacto).toLowerCase().includes(l.toLowerCase())||(null==(t=e.razon_social)?void 0:t.toLowerCase().includes(l.toLowerCase()))});return e.sort((e,t)=>{let l="".concat(e.nombre_contacto," ").concat(e.apellido_contacto),a="".concat(t.nombre_contacto," ").concat(t.apellido_contacto);return x?l.localeCompare(a):a.localeCompare(l)}),e},[t,l,x]),N=Math.ceil(v.length/10),C=(0,r.useMemo)(()=>{let e=(g-1)*10;return v.slice(e,e+10)},[v,g]),k=()=>{w(!1),j(null)},_=async e=>{if(e.id)try{await (0,o.G)(e),alert("Cliente actualizado con \xe9xito!"),k()}catch(e){console.error("Error updating client:",e),alert("Error al actualizar el cliente.")}};return(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Gesti\xf3n de Clientes"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative w-full md:w-1/3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Buscar por nombre o raz\xf3n social...",value:l,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),(0,a.jsxs)("button",{onClick:()=>p(!x),className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-lg hover:bg-gray-100 transition",children:["Ordenar por Nombre ",x?(0,a.jsx)(c.A,{size:16}):(0,a.jsx)(i.A,{size:16})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:C.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"font-bold text-lg text-blue-600",children:e.razon_social}),(0,a.jsx)("p",{className:"font-bold text-md text-blue-600",children:"".concat(e.nombre_contacto," ").concat(e.apellido_contacto)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.telefono}),e.cuil&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["CUIL: ",e.cuil]})]}),(0,a.jsxs)("button",{onClick:()=>{j(e),w(!0)},className:"flex items-center gap-2 bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition text-sm",children:[(0,a.jsx)(d,{size:16}),"Modificar"]})]},e.id))}),N>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 gap-2",children:[(0,a.jsx)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===g,className:"p-2 rounded-lg bg-white border disabled:opacity-50",children:(0,a.jsx)(m,{size:20})}),(0,a.jsxs)("span",{className:"text-gray-700 font-medium",children:["P\xe1gina ",g," de ",N]}),(0,a.jsx)("button",{onClick:()=>b(e=>Math.min(N,e+1)),disabled:g===N,className:"p-2 rounded-lg bg-white border disabled:opacity-50",children:(0,a.jsx)(u,{size:20})})]}),y&&f&&(0,a.jsx)(h,{cliente:f,onClose:k,onSave:_})]})},p=()=>{let[e,t]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,o.j)();t(e)}catch(e){console.error("Error fetching clientes:",e)}})()},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Gesti\xf3n de Clientes"}),(0,a.jsx)(x,{clientes:e})]})}},8803:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(1847).A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},9601:(e,t,l)=>{Promise.resolve().then(l.bind(l,7901))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9601)),_N_E=e.O()}]);