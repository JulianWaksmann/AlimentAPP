(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{5647:(e,d,t)=>{Promise.resolve().then(t.bind(t,7874))},7874:(e,d,t)=>{"use strict";t.r(d),t.d(d,{default:()=>s});var o=t(5155),a=t(2115);let i=JSON.parse('[{"idPedido":101,"idVendedor":1,"idCliente":1001,"productos":[{"idProducto":501,"nombre":"Producto A","cantidad":3},{"idProducto":502,"nombre":"Producto B","cantidad":1}],"fechaPedido":"2025-09-15T10:30:00Z","fechaEntrega":"2025-09-20T00:00:00Z","estado":"SOLICITADO"},{"idPedido":102,"idVendedor":2,"idCliente":1002,"productos":[{"idProducto":503,"nombre":"Producto C","cantidad":2}],"fechaPedido":"2025-09-14T14:00:00Z","fechaEntrega":"2025-09-22T00:00:00Z","estado":"ACEPTADO"},{"idPedido":103,"idVendedor":3,"idCliente":1003,"productos":[{"idProducto":502,"nombre":"Producto B","cantidad":5},{"idProducto":504,"nombre":"Producto D","cantidad":2}],"fechaPedido":"2025-09-13T09:15:00Z","fechaEntrega":"2025-09-18T00:00:00Z","estado":"EN PROCESO"},{"idPedido":104,"idVendedor":4,"idCliente":1004,"productos":[{"idProducto":505,"nombre":"Producto E","cantidad":1}],"fechaPedido":"2025-09-12T16:45:00Z","fechaEntrega":"2025-09-19T00:00:00Z","estado":"CANCELADO"},{"idPedido":105,"idVendedor":1,"idCliente":1001,"productos":[{"idProducto":506,"nombre":"Producto F","cantidad":6}],"fechaPedido":"2025-09-11T08:00:00Z","fechaEntrega":"2025-09-25T00:00:00Z","estado":"TERMINADO"},{"idPedido":106,"idVendedor":2,"idCliente":1005,"productos":[{"idProducto":501,"nombre":"Producto A","cantidad":4},{"idProducto":503,"nombre":"Producto C","cantidad":3}],"fechaPedido":"2025-09-10T12:30:00Z","fechaEntrega":"2025-09-21T00:00:00Z","estado":"ENVIADO"},{"idPedido":107,"idVendedor":3,"idCliente":1006,"productos":[{"idProducto":507,"nombre":"Producto G","cantidad":2}],"fechaPedido":"2025-09-09T10:00:00Z","fechaEntrega":"2025-09-16T00:00:00Z","estado":"SOLICITADO"},{"idPedido":108,"idVendedor":4,"idCliente":1007,"productos":[{"idProducto":504,"nombre":"Producto D","cantidad":3},{"idProducto":505,"nombre":"Producto E","cantidad":1}],"fechaPedido":"2025-09-08T15:15:00Z","fechaEntrega":"2025-09-20T00:00:00Z","estado":"ACEPTADO"},{"idPedido":109,"idVendedor":1,"idCliente":1008,"productos":[{"idProducto":508,"nombre":"Producto H","cantidad":1}],"fechaPedido":"2025-09-07T11:45:00Z","fechaEntrega":"2025-09-23T00:00:00Z","estado":"EN PROCESO"},{"idPedido":110,"idVendedor":2,"idCliente":1009,"productos":[{"idProducto":501,"nombre":"Producto A","cantidad":3},{"idProducto":509,"nombre":"Producto I","cantidad":2}],"fechaPedido":"2025-09-06T14:30:00Z","fechaEntrega":"2025-09-27T00:00:00Z","estado":"CANCELADO"}]'),r={SOLICITADO:"bg-blue-500 text-white",ACEPTADO:"bg-green-600 text-white","EN PROCESO":"bg-yellow-500 text-black",CANCELADO:"bg-red-600 text-white",TERMINADO:"bg-gray-600 text-white",ENVIADO:"bg-indigo-600 text-white"},n=e=>{let{pedidos:d}=e,[t,i]=(0,a.useState)("idPedido"),[n,c]=(0,a.useState)(!0),s=(0,a.useMemo)(()=>{let e=[...d];return e.sort((e,d)=>{let o=n?1:-1,a=e[t],i=d[t];return"fechaPedido"===t||"fechaEntrega"===t?(new Date(a).getTime()-new Date(i).getTime())*o:"number"==typeof a&&"number"==typeof i?(a-i)*o:String(a).localeCompare(String(i))*o}),e},[d,t,n]),l=(e,d)=>{let a=t===e?n?" ^":" v":"";return(0,o.jsxs)("button",{type:"button",className:"flex items-center gap-1",onClick:()=>(e=>{t===e?c(e=>!e):(i(e),c(!0))})(e),children:[(0,o.jsx)("span",{children:d}),a?(0,o.jsx)("span",{children:a}):null]})};return(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"min-w-full rounded-lg bg-white shadow",children:[(0,o.jsx)("thead",{className:"bg-primary text-white",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"px-6 py-3 text-left",children:l("idPedido","ID Pedido")}),(0,o.jsx)("th",{className:"px-6 py-3 text-left",children:l("idVendedor","ID Vendedor")}),(0,o.jsx)("th",{className:"px-6 py-3 text-left",children:l("idCliente","ID Cliente")}),(0,o.jsx)("th",{className:"px-6 py-3 text-left",children:"Productos (cantidad)"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left",children:l("fechaPedido","Fecha pedido")}),(0,o.jsx)("th",{className:"px-6 py-3 text-left",children:l("fechaEntrega","Fecha entrega")}),(0,o.jsx)("th",{className:"px-6 py-3 text-left",children:l("estado","Estado")})]})}),(0,o.jsxs)("tbody",{children:[s.map(e=>(0,o.jsxs)("tr",{className:"odd:bg-neutral-light even:bg-white",children:[(0,o.jsx)("td",{className:"px-6 py-3",children:e.idPedido}),(0,o.jsx)("td",{className:"px-6 py-3",children:e.idVendedor}),(0,o.jsx)("td",{className:"px-6 py-3",children:e.idCliente}),(0,o.jsx)("td",{className:"px-6 py-3",children:e.productos.map(e=>(0,o.jsxs)("div",{children:[e.nombre," (",e.cantidad,")"]},e.idProducto))}),(0,o.jsx)("td",{className:"px-6 py-3",children:new Date(e.fechaPedido).toLocaleDateString()}),(0,o.jsx)("td",{className:"px-6 py-3",children:new Date(e.fechaEntrega).toLocaleDateString()}),(0,o.jsx)("td",{className:"px-6 py-3",children:(0,o.jsx)("span",{className:"inline-block rounded-full px-3 py-1 font-semibold ".concat(r[e.estado]),children:e.estado})})]},e.idPedido)),0===s.length&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:7,className:"py-4 text-center text-gray-500",children:"No hay pedidos para mostrar."})})]})]})})},c=e=>{let{onAgregar:d,productosAgregados:t}=e,[i,r]=(0,a.useState)({idProducto:"",nombre:"",cantidad:""}),n=e=>{let{name:d,value:t}=e.target;r(e=>({...e,[d]:"cantidad"===d||"idProducto"===d?Number(t):t}))};return(0,o.jsxs)("div",{className:"rounded border border-details p-4",children:[(0,o.jsx)("h3",{className:"mb-3 text-base font-semibold",children:"Agregar producto"}),(0,o.jsxs)("div",{className:"mb-3 flex flex-wrap gap-2",children:[(0,o.jsx)("input",{type:"number",name:"idProducto",placeholder:"ID producto",value:i.idProducto,onChange:n,className:"flex-1 min-w-[140px] rounded border px-3 py-2"}),(0,o.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre",value:i.nombre,onChange:n,className:"flex-[2] min-w-[180px] rounded border px-3 py-2"}),(0,o.jsx)("input",{type:"number",name:"cantidad",placeholder:"Cantidad",value:i.cantidad,onChange:n,min:1,className:"flex-1 min-w-[120px] rounded border px-3 py-2"}),(0,o.jsx)("button",{onClick:()=>{i.idProducto&&i.nombre&&i.cantidad&&i.cantidad>0?(d({idProducto:i.idProducto,nombre:i.nombre,cantidad:i.cantidad}),r({idProducto:"",nombre:"",cantidad:""})):alert("Completa todos los datos del producto.")},className:"rounded bg-primary px-4 py-2 text-white transition hover:opacity-90",type:"button",children:"+ Agregar"})]}),t.length>0&&(0,o.jsx)("ul",{className:"list-disc pl-5 text-sm",children:t.map((e,d)=>(0,o.jsxs)("li",{children:[e.nombre," (ID ",e.idProducto,") - Cantidad ",e.cantidad]},"".concat(e.idProducto,"-").concat(d)))})]})},s=()=>{let e=i.map(e=>({...e,estado:e.estado})),[d,t]=(0,a.useState)(e),[r,s]=(0,a.useState)(!1),[l,u]=(0,a.useState)({idCliente:"",productos:[],fechaEntrega:""}),h=e=>{let{name:d,value:t}=e.target;u(e=>({...e,[d]:"idCliente"===d?Number(t):t}))};return(0,o.jsxs)("div",{className:"min-h-screen bg-neutral-light p-6 space-y-6",children:[(0,o.jsx)("button",{className:"rounded bg-success px-4 py-2 font-semibold text-white transition hover:opacity-90",onClick:()=>s(!0),children:"Agregar nuevo pedido"}),r&&(0,o.jsxs)("div",{className:"max-w-3xl rounded-lg bg-white p-6 shadow",children:[(0,o.jsx)("h2",{className:"mb-4 text-lg font-semibold",children:"Nuevo pedido"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"ID Cliente"}),(0,o.jsx)("input",{name:"idCliente",type:"number",value:l.idCliente,onChange:h,className:"w-full rounded border px-3 py-2",required:!0})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"Fecha de entrega"}),(0,o.jsx)("input",{name:"fechaEntrega",type:"date",value:l.fechaEntrega,onChange:h,className:"w-full rounded border px-3 py-2",required:!0})]}),(0,o.jsx)(c,{onAgregar:e=>{u(d=>({...d,productos:[...d.productos,e]}))},productosAgregados:l.productos}),(0,o.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,o.jsx)("button",{onClick:()=>{s(!1),u({idCliente:"",productos:[],fechaEntrega:""})},className:"rounded bg-neutral-dark px-4 py-2 text-white transition hover:opacity-90",children:"Cancelar"}),(0,o.jsx)("button",{onClick:()=>{if(""!==l.idCliente&&l.productos.length>0&&l.fechaEntrega){let e={idPedido:d.length>0?d[d.length-1].idPedido+1:1,idVendedor:123,idCliente:l.idCliente,productos:l.productos,fechaPedido:new Date().toISOString(),fechaEntrega:l.fechaEntrega,estado:"SOLICITADO"};t(d=>[...d,e]),s(!1),u({idCliente:"",productos:[],fechaEntrega:""})}else alert("Completa todos los campos para crear el pedido.")},className:"rounded bg-success px-4 py-2 text-white transition hover:opacity-90",children:"Guardar"})]})]}),(0,o.jsx)(n,{pedidos:d})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=5647)),_N_E=e.O()}]);