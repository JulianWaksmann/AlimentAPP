(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3376],{28569:(e,t,o)=>{"use strict";o.d(t,{$1:()=>l,A1:()=>f,LP:()=>h,NV:()=>s,OV:()=>i,Ob:()=>m,Sr:()=>p,UE:()=>g,X6:()=>a,dC:()=>d,gq:()=>u,lm:()=>r,s1:()=>c});let n="https://eldzogehdj.execute-api.us-east-1.amazonaws.com/prd";async function a(){let e=await fetch("".concat(n,"/crear-orden-venta"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching productos");let t=await e.json();return console.log(t),t.data}async function r(e){console.log("Creando nuevo pedido con data:",e);let t=await fetch("".concat(n,"/crear-orden-venta"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log(JSON.stringify(e)),!t.ok){let e=await t.json();throw Error("Error creating pedido: ".concat(t.status," - ").concat(JSON.stringify(e)))}return t.json()}async function s(){let e=await fetch("".concat(n,"/get-orden-venta"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching solicitudes de venta");return(await e.json()).orden_ventas_pendientes}async function i(e,t){let o=await fetch("".concat(n,"/crear-orden-venta/update-estado-orden-venta"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_pedido:e,estado:t})});if(!o.ok){let e=await o.json();throw Error("Error updating estado: ".concat(o.status," - ").concat(JSON.stringify(e)))}return o.json()}async function d(){let e=await fetch("".concat(n,"/get-orden-venta/get-orden-venta-lista-con-envio"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching pedidos terminados");let t=await e.json();return console.log("Pedidos Terminados Data:",t.pedidos),t.pedidos}async function c(e){let t=await fetch("".concat(n,"/gestion-envios/post-get-envios-por-estado"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({estado:e})});if(!t.ok)throw Error("Error fetching pedidos asignados");let o=await t.json();return console.log("Response Data:",o),o.vehiculos}async function l(e){let t=await fetch("".concat(n,"/gestion-envios/post-update-despachar-all-envios-de-vehiculo"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_vehiculo:e})});if(!t.ok){let e=await t.json();throw Error("Error updating estado envio: ".concat(t.status," - ").concat(JSON.stringify(e)))}return t.json()}async function p(e,t){let o={id_envio:e,estado:t};console.log(JSON.stringify(o));let a=await fetch("".concat(n,"/gestion-envios/post-update-estado-envio"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!a.ok){let e=await a.json();throw Error("Error updating estado envio: ".concat(a.status," - ").concat(JSON.stringify(e)))}return a.json()}async function h(){let e=await fetch("".concat(n,"/crear-orden-venta/get-orden-venta-atrasada"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw console.error("Failed to fetch pedidos reprogramados:",e.statusText),Error("Error fetching pedidos reprogramados");return await e.json()}async function u(){let e=await fetch("".concat(n,"/get-orden-venta/get-orden-venta-en-supervision-por-urgencia"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching pedidos urgentes");return(await e.json()).orden_ventas_pendiente_supervision_urgencia}async function g(e){let t={id_orden_venta:e};console.log(JSON.stringify(t));let o=await fetch("".concat(n,"/get-orden-venta/planificador_ordenes_produccion_simulacion_ov"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok)throw Error("Error fetching ordenes que se retrasan");return(await o.json()).ordenes_afectadas}async function f(e,t){let o=await fetch("".concat(n,"/get-orden-venta/get-detalle-pedido-por-id-y-cuil"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_orden_venta:t,cuil:e})}),a=await o.json();if(!o.ok)throw Error(a.error||"Error fetching estado del pedido");return a}async function m(e,t,o,a,r){let s=await fetch("".concat(n,"/crear-direccion/post-obtener-direcciones-normalizadas"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_cliente:r,calle:e,numero:t,localidad:o,provincia:a})});if(!s.ok){let e=await s.json();throw Error("Error creating direccion: ".concat(s.status," - ").concat(JSON.stringify(e)))}let i=await s.json();return console.log("Respuesta de crearDireccion en API:",i),i}},53976:(e,t,o)=>{Promise.resolve().then(o.bind(o,54691))},54691:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var n=o(95155),a=o(12115),r=o(28569);let s=()=>{let[e,t]=(0,a.useState)(""),[o,s]=(0,a.useState)(""),[i,d]=(0,a.useState)(null),[c,l]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[u,g]=(0,a.useState)(""),f=async()=>{try{let t=await (0,r.A1)(e,o);console.log(t),d(t),l(!0)}catch(t){let e="Error desconocido";t instanceof Error&&(e=t.message),g(e),h(!0)}};return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen py-2 bg-neutral-light",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Consultar Pedido"}),(0,n.jsx)("p",{className:"text-center",children:"Aqu\xed podr\xe1s consultar el estado de tu pedido ingresando tu n\xfamero de pedido."}),(0,n.jsxs)("div",{className:"rounded bg-gray-400 p-4 mt-4 w-1/2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-2",children:"Ingrese su CUIL"}),(0,n.jsx)("input",{type:"text",id:"dni",value:e,onChange:e=>t(e.target.value),className:"w-full p-2 rounded border border-gray-300"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"",className:"block mb-2",children:"Ingrese su N\xb0 de Pedido"}),(0,n.jsx)("input",{type:"text",id:"pedidoId",value:o,onChange:e=>s(e.target.value),className:"w-full p-2 rounded border border-gray-300"})]}),(0,n.jsx)("button",{className:"mt-4 px-4 py-2 bg-details text-white rounded hover:bg-details-dark",onClick:()=>f(),children:"Consultar Pedido"})]}),p&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,n.jsxs)("div",{className:"rounded-lg p-6 shadow-lg w-80 text-center bg-red-50 border border-red-300",children:[(0,n.jsx)("h3",{className:"text-lg font-bold mb-2 text-red-600",children:"Error"}),(0,n.jsx)("p",{className:"mb-4 text-sm",children:u}),(0,n.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded font-semibold bg-red-600 text-white hover:opacity-90 transition",children:"Cerrar"})]})}),c&&i&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,n.jsxs)("div",{className:"rounded-lg p-6 shadow-lg w-96 text-start bg-white border border-gray-300",children:[(0,n.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Estado del Pedido"}),(0,n.jsxs)("p",{className:"mb-4 text-sm",children:["ID Pedido: #",i.id_pedido_venta]}),(0,n.jsxs)("p",{className:"mb-4 text-sm",children:["Estado: ",i.estado_pedido]}),(0,n.jsxs)("p",{className:"mb-4 text-sm",children:["Fecha de Creaci\xf3n: ",new Date(i.fecha_pedido).toLocaleDateString()]}),(0,n.jsxs)("p",{className:"mb-4 text-sm",children:["Fecha de entrega Solicitada: ",new Date(i.fecha_entrega_solicitada).toLocaleDateString()]}),i.productos.map(e=>(0,n.jsxs)("div",{className:"mb-2 flex justify-between border-b border-gray-200 pb-2",children:[(0,n.jsx)("p",{className:"text-sm font-semibold",children:e.nombre}),(0,n.jsxs)("p",{className:"text-sm",children:["Cantidad: ",e.cantidad]})]},e.id_producto)),(0,n.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 rounded font-semibold bg-blue-600 text-white hover:opacity-90 transition",children:"Cerrar"})]})})]})})}}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=53976)),_N_E=e.O()}]);